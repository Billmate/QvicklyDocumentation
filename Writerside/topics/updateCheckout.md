# updateCheckout

UpdateCheckout is used for updating an ongoing session for Qvickly Checkout payment gateway ( https://checkout.qvickly.io/).

> This function is a part of [Qvickly Payment API](Qvickly-API.md)

For an example please see the [updateCheckout example](Update-checkout.md) page.

## Request

### PaymentData

<snippet from="Snippets-Request.md" element-id="snippet-paymentdata" />

### Articles

<snippet from="Snippets-Request.md" element-id="snippet-articles" />

### Cart

<snippet from="Snippets-Request.md" element-id="snippet-cart" />

### Function

| Property | Required | Type   | Description                                                     |
|----------|----------|--------|-----------------------------------------------------------------|
| function | true     | string | The function name to be used, for this page itâ€™s updateCheckout |

```json
{
    "credentials": {
        "id": "12345",
        "hash": "5456d68e73a1a070b28788b56d1ecc2f597894a4d5e38167eeb3952b2858bcc743bb557ed76783e80cfbdd9e70a477eeac70b895bff2b1ba7856c70e5d999755",
        "version": "%API_VERSION%",
        "client": "%CLIENT_NAME%",
        "serverdata": {
            "REMOTE_ADDR": "::1"
        },
        "test": "1"
    },
    "data": {
        "Articles": [
            {
                "artnr": "A123",
                "title": "Article 1",
                "quantity": 11,
                "aprice": 100,
                "taxrate": 25,
                "discount": 0,
                "withouttax": 1100
            }
        ],
        "Cart": {
            "Total": {
                "withouttax": 2620,
                "tax": 665,
                "withtax": 3300,
                "rounding": 15
            },
            "Shipping": {
                "withouttax": 1520,
                "taxrate": 25
            }
        },
        "PaymentData": {
            "number": "111222"
        }
    },
    "function": "updateCheckout"
}
```

## Response

| Property | Type    | Description                                                                                                                                                                                    |
|----------|---------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| number   | int     | Number is the payment/invoice number for the purchase.                                                                                                                                         |
| orderid  | string  | The unique order id generated by the shop as a reference.                                                                                                                                      |
| status   | string  | Status of the payment/invoice. Valid responses: CheckoutLoaded, Stage2Loaded, Created, Paid, Factoring, Service, Pending, and Cancelled. Pending if invoice purchase requires manual approval. |
| url      | string  | For invoice and partpayment payments the url is to the pdf of the invoice. For card and bank payments, the url is to the payment window that the store need to redirect the customer to.       |

```json
{
    "credentials": {
        "hash": "0b2d1c4d31228a6dc845a16d57b782b97a5e111db2348324be42f5a91e88c8bd35fa62f0e6240b5680e17da03bb9301c5bd0ed755db7fa62ba6054ee21cdde88"
    },
    "data": {
        "number": "111222",
        "orderid": "123456",
        "status": "CheckoutLoaded",
        "url": "https://checkout.qvickly.io/12345/2a6b47a5ee34a4210f4bd96b3c7c427d/test"
    }
}
```